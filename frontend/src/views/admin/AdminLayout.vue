<template>
  <div class="admin-container">
    <aside class="sidebar">
      <div class="admin-logo">
        <span v-if="isAdmin">ĞŸĞ°Ğ½ĞµĞ»ÑŒ ĞĞ´Ğ¼Ğ¸Ğ½Ğ°</span>
        <span v-else>ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</span>
      </div>
      
      <nav class="admin-nav">
        <!-- Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ Ğ²ÑĞµĞ¼ -->
        <router-link to="/admin/products">ğŸ“¦ Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹</router-link>
        <router-link to="/admin/categories">ğŸ“‚ ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸</router-link>
        <router-link to="/admin/brands">ğŸ·ï¸ Ğ‘Ñ€ĞµĞ½Ğ´Ñ‹</router-link>
        
        <!-- Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞĞ´Ğ¼Ğ¸Ğ½Ñƒ -->
        <template v-if="isAdmin">
          <div class="divider"></div>
          <router-link to="/admin/users">ğŸ‘¥ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸</router-link>
          <router-link to="/admin/orders">ğŸ›’ Ğ—Ğ°ĞºĞ°Ğ·Ñ‹</router-link>
        </template>
        
        <div class="divider"></div>
        <router-link to="/">ğŸ  ĞĞ° ÑĞ°Ğ¹Ñ‚</router-link>
      </nav>
    </aside>

    <main class="admin-content">
      <router-view />
    </main>
  </div>
</template>

<script>
import { ref, onMounted } from 'vue';

export default {
  setup() {
    const isAdmin = ref(false);

    onMounted(() => {
      const userStr = localStorage.getItem('user');
      const user = userStr ? JSON.parse(userStr) : null;
      isAdmin.value = user && user.role === 'admin';
    });

    return { isAdmin };
  }
}
</script>
