import{_ as w,c as p,a as s,j as c,i as v,k as l,v as d,t as b,d as u,b as y,w as x,r as V,g as a,m as k,h as f}from"./index-Z1tz7U2i.js";const R={setup(){const n=a(""),e=a(""),i=a(""),t=a(""),m=k();return{username:n,email:e,password:i,error:t,handleRegister:async()=>{try{const o=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.value,email:e.value,password:i.value})}),r=await o.json();if(!o.ok)throw new Error(r.error);alert("Регистрация успешна! Теперь войдите."),m.push("/login")}catch(o){t.value=o.message}}}}},N={class:"container animate-fade-in",style:{"max-width":"400px","margin-top":"3rem"}},_={class:"card p-4"},C={class:"form-group"},S={class:"form-group"},T={class:"form-group"},h={key:0,class:"message error"},j={class:"text-center mt-4"};function q(n,e,i,t,m,g){const o=V("router-link");return f(),p("div",N,[s("div",_,[e[10]||(e[10]=s("h2",{class:"text-center mb-4"},"Регистрация",-1)),s("form",{onSubmit:e[3]||(e[3]=c((...r)=>t.handleRegister&&t.handleRegister(...r),["prevent"]))},[s("div",C,[e[4]||(e[4]=s("label",{class:"form-label"},"Имя пользователя",-1)),l(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.username=r),type:"text",class:"form-input",required:""},null,512),[[d,t.username]])]),s("div",S,[e[5]||(e[5]=s("label",{class:"form-label"},"Email",-1)),l(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.email=r),type:"email",class:"form-input",required:""},null,512),[[d,t.email]])]),s("div",T,[e[6]||(e[6]=s("label",{class:"form-label"},"Пароль",-1)),l(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.password=r),type:"password",class:"form-input",required:""},null,512),[[d,t.password]])]),t.error?(f(),p("div",h,b(t.error),1)):v("",!0),e[7]||(e[7]=s("button",{type:"submit",class:"btn btn-primary w-100"},"Создать аккаунт",-1))],32),s("p",j,[e[9]||(e[9]=u(" Уже есть аккаунт? ",-1)),y(o,{to:"/login"},{default:x(()=>[...e[8]||(e[8]=[u("Войти",-1)])]),_:1})])])])}const E=w(R,[["render",q]]);export{E as default};
