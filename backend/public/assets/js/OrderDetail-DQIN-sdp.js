import{_ as p,c as e,a as n,t as o,f,h as l,n as k,F as v,d as u,o as y,y as b,e as r}from"./index-BS7-ax_o.js";const _={setup(){const i=b(),t=u(null),a=u(!0),s=u(!1);return y(async()=>{const d=localStorage.getItem("user");s.value=d&&JSON.parse(d).role==="admin";const g=localStorage.getItem("token"),m=await fetch(`/api/orders/${i.params.id}`,{headers:{Authorization:`Bearer ${g}`}});m.ok&&(t.value=await m.json()),a.value=!1}),{item:t,loading:a,isAdmin:s}}},N={class:"container animate-fade-in"},S={key:0,class:"text-center p-4"},w={key:1,class:"card p-6"},x={class:"details-grid mt-4"},B={class:"full-width"},A={class:"full-width"},C={key:2,class:"message error"};function D(i,t,a,s,d,g){return r(),e("div",N,[n("button",{onClick:t[0]||(t[0]=m=>i.$router.push("/catalog/orders")),class:"btn btn-outline mb-4"},"← Назад"),s.loading?(r(),e("div",S,"Загрузка...")):s.item?(r(),e("div",w,[n("h2",null,"Заказ #"+o(s.item.id),1),n("div",x,[n("p",null,[t[1]||(t[1]=n("strong",null,"Статус:",-1)),t[2]||(t[2]=l()),n("span",{class:k(["status-badge",s.item.status])},o(s.item.status),3)]),n("p",null,[t[3]||(t[3]=n("strong",null,"Сумма товаров:",-1)),l(" "+o(s.item.total_amount)+" ₽",1)]),n("p",null,[t[4]||(t[4]=n("strong",null,"Доставка:",-1)),l(" "+o(s.item.shipping_cost)+" ₽",1)]),n("p",null,[t[5]||(t[5]=n("strong",null,"Итого:",-1)),l(" "+o(Number(s.item.total_amount)+Number(s.item.shipping_cost))+" ₽",1)]),n("p",null,[t[6]||(t[6]=n("strong",null,"Получатель:",-1)),l(" "+o(s.item.recipient_name),1)]),n("p",null,[t[7]||(t[7]=n("strong",null,"Телефон:",-1)),l(" "+o(s.item.recipient_phone),1)]),n("p",B,[t[8]||(t[8]=n("strong",null,"Адрес:",-1)),l(" "+o(s.item.delivery_address),1)]),s.isAdmin?(r(),e(v,{key:0},[n("p",null,[t[9]||(t[9]=n("strong",null,"User ID:",-1)),l(" "+o(s.item.user_id),1)]),n("p",null,[t[10]||(t[10]=n("strong",null,"Метод оплаты:",-1)),l(" "+o(s.item.payment_method),1)]),n("p",null,[t[11]||(t[11]=n("strong",null,"Трек-номер:",-1)),l(" "+o(s.item.tracking_number||"Не присвоен"),1)]),n("p",A,[t[12]||(t[12]=n("strong",null,"Комментарий пользователя:",-1)),l(" "+o(s.item.user_comment||"Нет"),1)])],64)):f("",!0)])])):(r(),e("div",C,"Не найдено"))])}const V=p(_,[["render",D]]);export{V as default};
