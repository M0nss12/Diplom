import{_ as b,c as n,a as s,i as a,A as f,F as m,e as v,t as i,j as p,k as d,v as r,x as g,T as k,o as y,h as t,n as C}from"./index-Z1tz7U2i.js";import{u as M}from"./useCrud-BTeG7eu8.js";const $={name:"CatalogUserList",setup(){const l=M("users",{username:"",email:"",password:"",role:"client",phone:"",address:""});return y(()=>{l.fetchItems()}),{...l}}},w={class:"card p-4"},E={class:"header-actions"},U={class:"admin-table"},V={key:0},I={class:"actions-cell"},P=["onClick"],A=["onClick"],B=["onClick"],F={key:0,class:"pagination mt-4"},D=["disabled"],L=["disabled"],S={class:"modal-content card"},T={class:"form-group"},q={class:"form-group"},N={class:"form-group"},j={class:"form-group"},z={class:"form-group"},G={class:"form-group"},H=["placeholder"],J={class:"modal-actions"};function K(o,l,O,Q,R,W){return t(),n("div",w,[s("div",E,[l[12]||(l[12]=s("h2",null,"–ö–ª–∏–µ–Ω—Ç—ã",-1)),o.isAdmin?(t(),n("button",{key:0,class:"btn btn-primary",onClick:l[0]||(l[0]=e=>o.openEditModal())},"+ –î–æ–±–∞–≤–∏—Ç—å")):a("",!0)]),s("table",U,[l[14]||(l[14]=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"–ò–º—è"),s("th",null,"Email"),s("th",null,"–†–æ–ª—å"),s("th",null,"–î–µ–π—Å—Ç–≤–∏—è")])],-1)),s("tbody",null,[o.paginatedItems.length===0?(t(),n("tr",V,[...l[13]||(l[13]=[s("td",{colspan:"5",class:"text-center p-4"},"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤",-1)])])):a("",!0),(t(!0),n(m,null,v(o.paginatedItems,e=>(t(),n("tr",{key:e.id},[s("td",null,i(e.id),1),s("td",null,i(e.username),1),s("td",null,i(e.email),1),s("td",null,[s("span",{class:C(e.role==="admin"?"badge-red":"badge-green")},i(e.role),3)]),s("td",I,[s("button",{class:"btn-sm view",onClick:u=>o.$router.push(`/catalog/users/${e.id}`)},"üëÅÔ∏è",8,P),o.isAdmin?(t(),n(m,{key:0},[s("button",{class:"btn-sm edit",onClick:u=>o.openEditModal(e)},"‚úèÔ∏è",8,A),s("button",{class:"btn-sm delete",onClick:u=>o.deleteItem(e.id)},"üóëÔ∏è",8,B)],64)):a("",!0)])]))),128))])]),o.totalPages>1?(t(),n("div",F,[s("button",{class:"btn btn-outline",disabled:o.page===1,onClick:l[1]||(l[1]=(...e)=>o.prevPage&&o.prevPage(...e))},"–ù–∞–∑–∞–¥",8,D),s("span",null,"–°—Ç—Ä. "+i(o.page)+" –∏–∑ "+i(o.totalPages),1),s("button",{class:"btn btn-outline",disabled:o.page===o.totalPages,onClick:l[2]||(l[2]=(...e)=>o.nextPage&&o.nextPage(...e))},"–í–ø–µ—Ä–µ–¥",8,L)])):a("",!0),(t(),f(k,{to:"body"},[o.showEditModal?(t(),n("div",{key:0,class:"modal-overlay",onClick:l[11]||(l[11]=p((...e)=>o.closeModals&&o.closeModals(...e),["self"]))},[s("div",S,[s("h3",null,i(o.isEdit?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å":"–°–æ–∑–¥–∞—Ç—å"),1),s("form",{onSubmit:l[10]||(l[10]=p((...e)=>o.saveItem&&o.saveItem(...e),["prevent"]))},[s("div",T,[l[15]||(l[15]=s("label",null,"–ò–º—è",-1)),d(s("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>o.form.username=e),class:"form-input",required:""},null,512),[[r,o.form.username]])]),s("div",q,[l[16]||(l[16]=s("label",null,"Email",-1)),d(s("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>o.form.email=e),type:"email",class:"form-input",required:""},null,512),[[r,o.form.email]])]),s("div",N,[l[18]||(l[18]=s("label",null,"–†–æ–ª—å",-1)),d(s("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>o.form.role=e),class:"form-input"},[...l[17]||(l[17]=[s("option",{value:"client"},"Client",-1),s("option",{value:"admin"},"Admin",-1)])],512),[[g,o.form.role]])]),s("div",j,[l[19]||(l[19]=s("label",null,"–¢–µ–ª–µ—Ñ–æ–Ω",-1)),d(s("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>o.form.phone=e),class:"form-input"},null,512),[[r,o.form.phone]])]),s("div",z,[l[20]||(l[20]=s("label",null,"–ê–¥—Ä–µ—Å",-1)),d(s("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>o.form.address=e),class:"form-input"},null,512),[[r,o.form.address]])]),s("div",G,[l[21]||(l[21]=s("label",null,"–ü–∞—Ä–æ–ª—å",-1)),d(s("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>o.form.password=e),type:"password",class:"form-input",placeholder:o.isEdit?"–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ –º–µ–Ω—è–µ—Ç–µ":"–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö"},null,8,H),[[r,o.form.password]])]),s("div",J,[s("button",{type:"button",class:"btn btn-outline",onClick:l[9]||(l[9]=(...e)=>o.closeModals&&o.closeModals(...e))},"–û—Ç–º–µ–Ω–∞"),l[22]||(l[22]=s("button",{type:"submit",class:"btn btn-primary"},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",-1))])],32)])])):a("",!0)]))])}const Z=b($,[["render",K]]);export{Z as default};
