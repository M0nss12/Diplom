import{_ as m,c as r,a as s,t as n,h as a,n as g,d as u,o as c,y as f,e as i}from"./index-BS7-ax_o.js";const p={setup(){const d=f(),e=u(null),o=u(!0);return c(async()=>{try{const t=localStorage.getItem("token");if(!t){console.error("Нет токена авторизации"),o.value=!1;return}const l=await fetch(`/api/users/${d.params.id}`,{headers:{Authorization:`Bearer ${t}`}});l.ok?e.value=await l.json():console.error("Ошибка сервера:",l.status)}catch(t){console.error("Ошибка сети:",t)}finally{o.value=!1}}),{item:e,loading:o}}},v={class:"container animate-fade-in"},k={key:0,class:"text-center p-4"},y={key:1,class:"card p-6"},b={class:"details-grid mt-4"},x={style:{"grid-column":"1/-1"}},B={key:2,class:"message error"};function _(d,e,o,t,l,D){return i(),r("div",v,[s("button",{onClick:e[0]||(e[0]=w=>d.$router.push("/catalog/users")),class:"btn btn-outline mb-4"},"← Назад"),t.loading?(i(),r("div",k,[...e[1]||(e[1]=[s("div",{class:"loader"},null,-1)])])):t.item?(i(),r("div",y,[s("h2",null,"Пользователь: "+n(t.item.username),1),s("div",b,[s("p",null,[e[2]||(e[2]=s("strong",null,"ID:",-1)),a(" "+n(t.item.id),1)]),s("p",null,[e[3]||(e[3]=s("strong",null,"Email:",-1)),a(" "+n(t.item.email),1)]),s("p",null,[e[4]||(e[4]=s("strong",null,"Роль:",-1)),s("span",{class:g(t.item.role==="admin"?"badge-red":"badge-green")},n(t.item.role),3)]),s("p",null,[e[5]||(e[5]=s("strong",null,"Телефон:",-1)),a(" "+n(t.item.phone||"Не указан"),1)]),s("p",x,[e[6]||(e[6]=s("strong",null,"Адрес:",-1)),a(" "+n(t.item.address||"Не указан"),1)])])])):(i(),r("div",B,[...e[7]||(e[7]=[s("p",null,"Пользователь не найден или у вас нет прав на просмотр.",-1)])]))])}const C=m(p,[["render",_]]);export{C as default};
