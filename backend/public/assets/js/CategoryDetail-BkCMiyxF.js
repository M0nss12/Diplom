import{_ as g,c as o,a as e,f as u,t as n,h as l,F as _,d as m,o as f,y,e as i}from"./index-BS7-ax_o.js";const p={setup(){const a=y(),t=m(null),d=m(!0),s=m(!1);return f(async()=>{const c=localStorage.getItem("user");s.value=c&&JSON.parse(c).role==="admin";try{const r=await fetch(`/api/categories/${a.params.id}`);r.ok&&(t.value=await r.json())}catch(r){console.error(r)}finally{d.value=!1}}),{item:t,loading:d,isAdmin:s}}},v={class:"container animate-fade-in"},k={key:0,class:"text-center p-4"},b={key:1,class:"card p-6"},x={class:"header-actions"},h={key:0,class:"badge-red"},S={class:"grid-2 mt-4",style:{"grid-template-columns":"1fr 2fr"}},w={class:"img-container text-center"},D=["src"],I={key:1,class:"p-4 bg-gray-100 rounded text-gray"},N={class:"details-grid"},A={class:"full-width"},B={key:2,class:"message error"};function C(a,t,d,s,c,r){return i(),o("div",v,[e("button",{onClick:t[0]||(t[0]=V=>a.$router.push("/catalog/categories")),class:"btn btn-outline mb-4"},"← Назад"),s.loading?(i(),o("div",k,"Загрузка...")):s.item?(i(),o("div",b,[e("div",x,[e("h2",null,n(s.item.name),1),s.item.discount_percent>0?(i(),o("span",h,"-"+n(s.item.discount_percent)+"%",1)):u("",!0)]),e("div",S,[e("div",w,[s.item.image_url?(i(),o("img",{key:0,src:s.item.image_url,class:"w-100 rounded",style:{"max-height":"300px","object-fit":"contain"}},null,8,D)):(i(),o("div",I,"Нет фото"))]),e("div",N,[e("p",null,[t[1]||(t[1]=e("strong",null,"ID:",-1)),l(" "+n(s.item.id),1)]),e("p",null,[t[2]||(t[2]=e("strong",null,"Родитель ID:",-1)),l(" "+n(s.item.parent_id||"Нет"),1)]),e("p",A,[t[3]||(t[3]=e("strong",null,"Описание:",-1)),l(" "+n(s.item.description||"Нет описания"),1)]),s.isAdmin?(i(),o(_,{key:0},[t[8]||(t[8]=e("hr",{class:"full-width my-2",style:{border:"0","border-top":"1px dashed #ccc"}},null,-1)),e("p",null,[t[4]||(t[4]=e("strong",null,"Slug:",-1)),l(" "+n(s.item.slug),1)]),e("p",null,[t[5]||(t[5]=e("strong",null,"Sort Order:",-1)),l(" "+n(s.item.sort_order),1)]),e("p",null,[t[6]||(t[6]=e("strong",null,"Meta Title:",-1)),l(" "+n(s.item.meta_title),1)]),e("p",null,[t[7]||(t[7]=e("strong",null,"Is Active:",-1)),l(" "+n(s.item.is_active),1)])],64)):u("",!0)])])])):(i(),o("div",B,"Не найдено"))])}const F=g(p,[["render",C]]);export{F as default};
